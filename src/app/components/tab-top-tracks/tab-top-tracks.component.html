<div class="flex gap-4 flex-column px-4">
  <div class="flex justify-content-center">
    <p-selectButton
      [allowEmpty]="false"
      [options]="stateOptions"
      [(ngModel)]="value"
      optionLabel="label"
      optionValue="value"
      (onChange)="onChangeHandle($event)"
    />
  </div>
  <p-paginator
    (onPageChange)="onPageChange($event)"
    [first]="dataPagination.first"
    [rows]="dataPagination.rows"
    [totalRecords]="dataPagination.totalRecords"
    [rowsPerPageOptions]="dataPagination.rowsPerPageOptions"
  />
  <div class="flex justify-content-center">
    <div class="flex flex-wrap gap-3 justify-content-center h-full">
      <div
        *ngIf="topTracks?.length === 0 && !isLoading.tracks"
        class="flex justify-content-center align h-24rem align-items-center"
      >
        <span class="font-bold text-base sm:text-lg md:text-xl lg:text-2xl"
          >No data</span
        >
      </div>

      <ng-container *ngIf="isLoading.tracks">
        <div
          *ngFor="let skeleton of skeletonElements"
          class="flex flex-column w-5rem md:w-8rem lg:w-10rem gap-2"
        >
          <div class="w-full">
            <div class="square">
              <p-skeleton width="100%" height="100%" class="square" />
            </div>
          </div>
          <div class="flex flex-column gap-1">
            <p-skeleton width="80%" height="1rem" />
            <p-skeleton width="60%" height="1rem" />
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="!isLoading.tracks">
        <p-card
          *ngFor="let track of topTracks"
          class="custom-card w-5rem md:w-8rem lg:w-10rem"
        >
          <ng-template pTemplate="header">
            <div class="relative">
              <p-image
                [src]="track.album.images[0].url"
                [alt]="track.name"
                width="100%"
                class="cursor-pointer"
                (click)="handleImageClick(track.external_urls.spotify)"
              ></p-image>

              <app-audio-player
                class="absolute bottom-0 left-0 w-2rem h-2rem sm:w-2rem sm:h-2rem md:w-3rem md:h-3rem"
                [urlPreview]="track.preview_url"
              ></app-audio-player>
            </div>
          </ng-template>

          <p
            class="font-bold text-xs sm:text-xs md:text-base lg:text-lg m-0 p-0"
          >
            {{ track.rank_number }}. &nbsp;
            {{ track.name }}
          </p>
          <p
            class="font-bold text-300 text-xs sm:text-xs md:text-base lg:text-base m-0 p-0"
          >
            {{ track.artists[0].name }}
          </p>
        </p-card>
      </ng-container>
    </div>
  </div>
</div>
