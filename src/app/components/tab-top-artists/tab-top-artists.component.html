<div class="flex justify-content-center">
  <div class="flex gap-4 flex-column w-11">
    <div class="flex justify-content-center">
      <h1 class="m-0">Top artists</h1>
    </div>

    <div class="flex justify-content-center">
      <p-selectButton
        [allowEmpty]="false"
        [options]="stateOptions"
        [(ngModel)]="timeRange"
        optionLabel="label"
        optionValue="value"
        (onChange)="onOptionChange($event)"
      />
    </div>
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="dataPagination.first"
      [rows]="actualRows"
      [totalRecords]="dataPagination.totalRecords"
      [rowsPerPageOptions]="dataPagination.rowsPerPageOptions"
    />
    <div class="flex justify-content-center">
      <div class="flex flex-wrap gap-3 justify-content-center">
        <!-- NO DATA -->
        <div
          *ngIf="topArtists?.length === 0 && !isLoading.artists"
          class="flex justify-content-center align h-24rem align-items-center"
        >
          <span class="font-bold text-base sm:text-lg md:text-xl lg:text-2xl"
            >No data</span
          >
        </div>
        <!-- SKELETON -->
        <ng-container *ngIf="isLoading.artists">
          <div
            *ngFor="let skeleton of skeletonElements"
            class="flex flex-column w-5rem md:w-8rem lg:w-10rem gap-2"
          >
            <div class="w-full">
              <div class="square">
                <p-skeleton
                  width="100%"
                  height="100%"
                  class="border-circle"
                  shape="circle"
                />
              </div>
            </div>
            <p-skeleton width="100%" height="1rem" />
          </div>
        </ng-container>
        <!-- DATA -->
        <ng-container *ngIf="!isLoading.artists">
          <p-card
            *ngFor="let artist of topArtists"
            class="cursor-pointer custom-card w-5rem md:w-8rem lg:w-10rem"
            (click)="handleImageClick(artist.external_urls.spotify)"
          >
            <ng-template pTemplate="header">
              <div
                class="overflow-hidden h-5rem md:h-8rem lg:h-10rem p-0 border-circle"
              >
                <p-image
                  [src]="artist.images[0].url"
                  [alt]="artist.name"
                  width="100%"
                ></p-image>
              </div>
            </ng-template>

            <p
              class="font-bold text-xs sm:text-xs md:text-base lg:text-lg m-0 p-0"
            >
              {{ artist.rank_number }}. &nbsp;
              {{ artist.name }}
            </p>
          </p-card>
        </ng-container>
      </div>
    </div>
  </div>
</div>
